<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>API Config Injection</title>
</head>
<body>
  <script>
    // Get the current page's host (protocol + hostname + port)
    const currentHost = window.location.protocol + '//' + window.location.host;

    // Letta backend is on port 8283, replace the frontend port (8080)
    // e.g., http://192.168.1.100:8080 -> http://192.168.1.100:8283
    const apiHost = currentHost.replace(':8080', ':8283');

    // Inject as a global variable that Flutter can access
    window.__API_BASE_URL__ = apiHost;

    console.log('API Base URL configured to:', apiHost);
  </script>
</body>
</html>
